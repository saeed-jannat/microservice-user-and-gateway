user-service-and-gateway

This repository contains a production-oriented microservices-based backend project designed to demonstrate modern backend architecture, 
advanced authorization, and real-world access control scenarios commonly used in enterprise systems such as accounting, ERP, and SaaS platforms.
The project consists of two main components:

Architecture Overview
1. User Service
The User Service is responsible for managing users and a custom-built authorization system implemented entirely from scratch.

It handles:

Authentication and registration

Claims and profile management

Role and permission management

Organization, company, and zone separation

Context-aware access control

This service is designed for multi-tenant systems where access rules vary by company, role, user, and financial year.

2. API Gateway

The API Gateway, built using Ocelot, acts as the single entry point for all client requests.

Responsibilities:

Routing requests to appropriate microservices

Centralized authentication handling

Service isolation

Configuration-driven routing for scalability

Ocelot provides a clean and flexible way to manage communication between services in a microservices environment.

Core Features
üîê Advanced Authorization System (Built from Scratch)

This project goes far beyond basic Role-Based Access Control (RBAC).

Role & Permission Management

Roles are defined per company

Each role has a set of permissions

Users can be assigned multiple roles

User-Level Permission Overrides

Permissions inherited from roles can be:

Extended

Restricted

Effective permissions are dynamically calculated per user

This allows fine-grained access control at the individual user level.

Context-Based Authorization (Financial Year)

Access is not global

Permissions are evaluated per financial year

A user may have access to one year but be restricted from another

This is especially critical for accounting and financial systems.

Multi-Tenant (Company-Isolated) Access

Each company is fully isolated

Roles, permissions, and users are scoped to a company

Cross-company access is strictly controlled

This design supports real-world multi-tenant SaaS architectures.

üß± Microservices Architecture

Services are independent and loosely coupled

Clear separation of responsibilities

Scalable and maintainable design

üîë Secure Authentication

JWT-based authentication

Private keys are stored securely using:

Docker secrets or volumes

No hardcoded secrets

üê≥ Containerization

Dockerized services

Easy local and production-like deployments

Infrastructure-friendly setup

üóÑ Data Storage

SQL Server

Designed for reliability and performance

Structured schema suitable for enterprise workloads

Technologies Used

.NET / ASP.NET Core

Ocelot (API Gateway)

Docker

SQL Server

JWT (JSON Web Tokens)

Running the Project
Prerequisites

.NET SDK

Docker (optional)

SQL Server

Setup Instructions

Create database tables using the provided schema

Configure a secret or volume for the JWT private key

Ensure the services read the private key from the configured source

If running without Docker, simply run the projects normally after configuration.

Use Cases

This project is suitable for:

Accounting systems

ERP platforms

Multi-tenant SaaS products

Systems requiring fine-grained authorization

Developers looking to study real-world backend authorization patterns

Notes

This project is not a tutorial-only demo.
It reflects real authorization challenges commonly found in production systems and demonstrates how they can be solved cleanly using .NET and microservices.
